<!DOCTYPE html>
<html lang="zh-cn"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3XR6QD9MQ2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-3XR6QD9MQ2")</script><meta charset="utf-8"/><meta content="MlCbTFwi8qVmMCmDnlISOYdFqFcBTIA3hdWJIev8ljg" name="google-site-verification"/><meta content="IE=edge,chrome=1" http-equiv="x-ua-compatible"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="Sswin" name="author"/><title>Website Card Embed ｜ SSWIN</title><meta content="欢迎使用 Website Card Embed，只需几个步骤， 你就可以在你的网站中支持以卡片的形式进行文章的引用。
" name="description"/><meta content="收藏" name="keywords"/><meta content="summary" name="twitter:card"/><meta content="/post/d625589b/" name="twitter:site"/><meta content="Website Card Embed" name="twitter:creator"/><meta content="Website Card Embed" name="twitter:title"/><meta content="欢迎使用 Website Card Embed，只需几个步骤， 你就可以在你的网站中支持以卡片的形式进行文章的引用。
" name="twitter:description"/><meta content="https://zozo.sswin.site//images/favicon.ico" name="twitter:image"/><meta content="Website Card Embed" property="og:title"/><meta content="/post/d625589b/" property="og:url"/><meta content="https://zozo.sswin.site//images/favicon.ico" property="og:image"/><meta content="欢迎使用 Website Card Embed，只需几个步骤， 你就可以在你的网站中支持以卡片的形式进行文章的引用。
" name="og:description"/><meta content="Website Card Embed" property="og:site_name"/><meta content="article" property="og:type"/><meta content="" property="og:article:author"/><link href="https://zozo.sswin.site//images/favicon.ico" rel="shortcut icon"/><link href="https://zozo.sswin.site/css/normalize.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://zozo.sswin.site/css/zozo.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" media="screen" rel="stylesheet" type="text/css"/><link href="https://zozo.sswin.site/css/highlight.css" media="screen" rel="stylesheet" type="text/css"/><script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
<link href="https://unpkg.com/@waline/client@v2/dist/waline.css" rel="stylesheet"/></head><body><div class="main animate__animated animate__fadeInDown"><div class="header animated fadeInDown"><div class="site_title_container"><div class="site_title"><a href="https://zozo.sswin.site/"><img alt="SSWIN" src="https://zozo.sswin.site//images/favicon.ico" style="border-radius:50px;width:100"/></a></div><div class="description"><p class="sub_title">放进时光蛋里。</p><div class="my_socials"><a href="mailto://me@sswin.site" target="_blank" title="mail"><i class="ri-mail-fill"></i></a>
<a href="http://sms%3A%2F%2F18336983040" target="_blank" title="phone"><i class="ri-phone-fill"></i></a>
<a href="//t.me/karl_s_bot" target="_blank" title="telegram"><i class="ri-telegram-fill"></i></a>
<a href="https://zozo.sswin.site/index.xml" target="_blank" title="rss" type="application/rss+xml"><i class="ri-rss-fill"></i></a></div></div></div></div><div class="content"><div class="post_page"><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href="/post/d625589b/">Website Card Embed</a></h2><span class="date">2022.10.15</span></div><div class="post_content markdown"><p>欢迎使用 Website Card Embed，只需几个步骤， 你就可以在你的网站中支持以卡片的形式进行文章的引用。</p><p>欢迎使用 Website Card Embed，只需几个步骤， 你就可以在你的网站中支持以卡片的形式进行文章的引用。</p><p><a href="https://cdn.jsdelivr.net/gh/Humble-Xiang/picx-images@master/geek/Kapture-2022-03-03-at-10.3b3ttcjbbf80.gif" title="Kapture-2022-03-03-at-10"><img alt="" src="https://cdn.jsdelivr.net/gh/Humble-Xiang/picx-images@master/geek/Kapture-2022-03-03-at-10.3b3ttcjbbf80.gif"/></a> Demo</p><p>直接访问 <a href="https://website-card-embed-demo.vercel.app/?url=https://gohugo.io/about/what-is-hugo/">Website Card Embed Demo</a> 或者复制以下代码</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">iframe</span> 
</span></span><span class="line"><span class="cl">  <span class="na">src</span><span class="o">=</span><span class="s">"https://website-card-embed-demo.vercel.app/?url=https://gohugo.io/about/what-is-hugo/"</span> 
</span></span><span class="line"><span class="cl">  <span class="na">frameborder</span><span class="o">=</span><span class="s">"no"</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>到你的 Markdown 文章中预览看下效果。如果你的 Markdown 渲染器支持 iframe，修改 <code>url=</code> 后的文章地址来 Enjoy!</p><p>值得注意的是上面的方式仅在支持渲染 iframe 标签的 Markdown 引擎中使用，像 Github README 文件是不支持的</p><p>Website Card Embed 提供了降级方案</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">[<span class="nt">![what-is-hugo</span>](<span class="na">https://website-card-embed-demo.vercel.app/api/screenshot?url=https://gohugo.io/about/what-is-hugo/</span>)](https://gohugo.io/about/what-is-hugo/)
</span></span></code></pre></div><p>，可以使用基础的 Markdown 语法渲染一张带链接的图片在 Github 中使用。</p><p><a href="https://gohugo.io/about/what-is-hugo/"><img alt="" src="https://website-card-embed.vercel.app/api/screenshot?url=https://gohugo.io/about/what-is-hugo/"/></a></p><p>为了演示服务的安全和你自己使用时的稳定性考虑，你最好独自使用一个服务端，感谢 <a href="https://vercel.com/docs">Vercel</a> 让这一切变得十分简单，只需简单几步操作你就可以拥有自己的解析服务了。</p><ol><li>点击 <a href="https://vercel.com/import/project?template=https://github.com/Humble-Xiang/website-card-embed">Deploy</a>，跳转至 Vercel 进行 Server 端部署。</li><li>如果你未登录的话，Vercel 会让你注册或登录，请使用 GitHub 账户进行快捷登录。</li><li>输入一个你喜欢的 Vercel 项目名称并点击 Create 继续。</li><li>此时 Vercel 会基于 Website Card Embed 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。</li><li>很快，满屏的烟花会庆祝你部署成功，你自己的服务端已经可以使用了。此时点击 Go to Dashboard 可以跳转到应用的控制台。</li><li>你可以在 Settings - Domains 中修改 vercel 分配给你的域名，然后通过 <code>你的域名/?url=文章地址</code> 来获取文章的卡片形式的预览。</li></ol><p>如果你的 Blog 是使用 Hugo 来搭建的，可以使用 Hugo 的 Shortcodes 来引用网站。在你的 Blog <code>layouts/shortcodes/</code> 目录下创建 <code>card.html</code> 文件并粘贴如下代码。</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- if .IsNamedParams -}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">"你的域名/?url={{ .Get `url` }}&amp;title={{ .Get `title` }}&amp;description={{ .Get `description` }}&amp;image={{ .Get `image` }}&amp;favicon={{ .Get `favicon` }}"</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">"no"</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- else -}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">"你的域名/?url={{ .Get 0 }}"</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">"no"</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- end -}}
</span></span></code></pre></div><p>现在你可以使用 <code><iframe class="website-card-embed" frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https%3a%2f%2fgohugo.io%2fabout%2fwhat-is-hugo%2f" style="width:100%;height:124px"></iframe></code> 来引用网站了。</p><p>当出现一个网站总是解析失败的时候，你需要考虑使用静态卡片了。仅需要添加 title、description 等而外参数就可以跳过解析直接生成卡片了。注意不要漏掉 url 参数，不然就会出现虽然渲染了卡片，但是不知道跳转到何处的问题。</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><iframe class="website-card-embed" frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https%3a%2f%2fgohugo.io%2fabout%2fwhat-is-hugo%2f&amp;title=What%20is%20Hugo&amp;description=Hugo%20is%20a%20fast%20and%20modern%20static%20site%20generator%20written%20in%20Go%2c%20and%20designed%20to%20make%20website%20creation%20fun%20again.&amp;image=https%3a%2f%2fgohugo.io%2fopengraph%2fgohugoio-card-base-1_huf001e7df4fd9c00c4355abac7d4ca455_242906_filter_11180610884299235099.png&amp;favicon=https%3a%2f%2fgohugo.io%2ffavicon-32x32.png" style="width:100%;height:124px"></iframe>
</span></span></code></pre></div><p>想要支持夜间模式你的 <code>layouts/shortcodes/card.html</code> 代码需要修改为</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl">{{- if .IsNamedParams -}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">iframe</span>
</span></span><span class="line"><span class="cl">        <span class="na">data-src</span><span class="o">=</span><span class="s">"https://website-card-embed-demo.vercel.app/?url={{ .Get `url` }}&amp;title={{ .Get `title` }}&amp;description={{ .Get `description` }}&amp;image={{ .Get `image` }}&amp;favicon={{ .Get `favicon` }}"</span>
</span></span><span class="line"><span class="cl">        <span class="na">frameborder</span><span class="o">=</span><span class="s">"no"</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- else -}}
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">iframe</span>
</span></span><span class="line"><span class="cl">        <span class="na">data-src</span><span class="o">=</span><span class="s">"https://website-card-embed-demo.vercel.app/?url={{ .Get 0 }}"</span>
</span></span><span class="line"><span class="cl">        <span class="na">frameborder</span><span class="o">=</span><span class="s">"no"</span><span class="p">&gt;&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">{{- end -}}
</span></span></code></pre></div><p>同时你的网站需要引用如下 js 代码</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl">/**
</span></span><span class="line"><span class="cl"> * 获取渲染颜色模式的方法，基于现有的主题自定义
</span></span><span class="line"><span class="cl"> * @returns {string} 'dark' or 'light'
</span></span><span class="line"><span class="cl"> */
</span></span><span class="line"><span class="cl">function getWebsiteCardEmbedColorMode() {
</span></span><span class="line"><span class="cl">  if (window.matchMedia("(prefers-color-scheme: dark)").matches) return "dark";
</span></span><span class="line"><span class="cl">  if (window.matchMedia("(prefers-color-scheme: light)").matches)
</span></span><span class="line"><span class="cl">    return "light";
</span></span><span class="line"><span class="cl">  return "light";
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Array.from(document.getElementsByClassName("website-card-embed")).forEach(
</span></span><span class="line"><span class="cl">  function (item) {
</span></span><span class="line"><span class="cl">    item.src =
</span></span><span class="line"><span class="cl">      item.getAttribute("data-src") +
</span></span><span class="line"><span class="cl">      "<span class="err">&amp;</span>colorMode=" +
</span></span><span class="line"><span class="cl">      getWebsiteCardEmbedColorMode();
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">);
</span></span></code></pre></div><p>也可以通过 <code>你的域名/website-card-embed.js</code> 引用，在 Hugo 中如何引入 JS 参考:</p><p>如果你使用的 Hugo 主题为 LoveIt 或者基于其开发的新主题，你需要引入的 JS 为 <code>你的域名/website-card-embed-loveit.js</code>，代码为</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-html" data-lang="html"><span class="line"><span class="cl">/**
</span></span><span class="line"><span class="cl"> * 获取渲染颜色模式的方法，基于使用的主题自定义
</span></span><span class="line"><span class="cl"> * @returns {string} 'dark' or 'light'
</span></span><span class="line"><span class="cl"> */
</span></span><span class="line"><span class="cl">function getWebsiteCardEmbedColorMode() {
</span></span><span class="line"><span class="cl">  return document.body.getAttribute("theme") !== "light" <span class="err">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    document.body.getAttribute("theme") !== "white"
</span></span><span class="line"><span class="cl">    ? "dark"
</span></span><span class="line"><span class="cl">    : "light";
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/**
</span></span><span class="line"><span class="cl"> * 初始化网站卡片
</span></span><span class="line"><span class="cl"> */
</span></span><span class="line"><span class="cl">function initWebsiteCardEmbed() {
</span></span><span class="line"><span class="cl">  Array.from(document.getElementsByClassName("website-card-embed")).forEach(
</span></span><span class="line"><span class="cl">    function (item) {
</span></span><span class="line"><span class="cl">      item.src =
</span></span><span class="line"><span class="cl">        item.getAttribute("data-src") +
</span></span><span class="line"><span class="cl">        "<span class="err">&amp;</span>colorMode=" +
</span></span><span class="line"><span class="cl">        getWebsiteCardEmbedColorMode();
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  );
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/**
</span></span><span class="line"><span class="cl"> * 初始化主题切换事件，基于使用主题自定义
</span></span><span class="line"><span class="cl"> */
</span></span><span class="line"><span class="cl">function initSelectThemeListener() {
</span></span><span class="line"><span class="cl">  var selects = document.getElementsByClassName("color-theme-select");
</span></span><span class="line"><span class="cl">  for (var i = 0; i <span class="p">&lt;</span> <span class="nt">selects.length</span><span class="err">;</span> <span class="na">i</span><span class="err">++)</span> <span class="err">{</span>
</span></span><span class="line"><span class="cl">    <span class="na">selects</span><span class="err">[</span><span class="na">i</span><span class="err">].</span><span class="na">addEventListener</span><span class="err">("</span><span class="na">change</span><span class="err">",</span> <span class="na">function</span> <span class="err">()</span> <span class="err">{</span>
</span></span><span class="line"><span class="cl">      <span class="na">setTimeout</span><span class="err">(</span><span class="na">function</span> <span class="err">()</span> <span class="err">{</span>
</span></span><span class="line"><span class="cl">        <span class="na">initWebsiteCardEmbed</span><span class="err">();</span>
</span></span><span class="line"><span class="cl">      <span class="err">},</span> <span class="na">200</span><span class="err">);</span>
</span></span><span class="line"><span class="cl">    <span class="err">});</span>
</span></span><span class="line"><span class="cl">  <span class="err">}</span>
</span></span><span class="line"><span class="cl"><span class="err">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="na">initWebsiteCardEmbed</span><span class="err">();</span>
</span></span><span class="line"><span class="cl"><span class="na">initSelectThemeListener</span><span class="err">();</span>
</span></span></code></pre></div><p>如果你使用的是其他支持夜间模式切换的主题，您也可以参考 <code>website-card-embed-loveit.js</code> 来自定义您的颜色模式判断方法。</p><iframe frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https://twitter.com/priyathanyapie2/status/1581106529800896513" style="width:100%;height:124px"></iframe>
<iframe frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https://weibo.com/5557126445/MapUw3f48" style="width:100%;height:124px"></iframe>
<iframe class="website-card-embed" frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https%3a%2f%2fweibo.com%2f5557126445%2fMapUw3f48" style="width:100%;height:124px"></iframe>
<iframe class="website-card-embed" frameborder="no" src="https://website-card-embed-demo.vercel.app/?url=https%3a%2f%2ftwitter.com%2feert91852016%2fstatus%2f1580955731032875008%3fs%3d61%26t%3dXfTSFqTKT7WAuRG38oSl2w&amp;title=Twitter%e6%8e%a8%e5%b9%bf%e7%a4%ba%e4%be%8b&amp;description=%e5%93%94%e5%92%94%e6%bc%ab%e7%94%bb%e6%9c%80%e6%96%b0%e5%9c%b0%e5%9d%80%202022%e6%9d%a5%e4%ba%86&amp;image=https%3a%2f%2f2022.picacg.one%2fbuild%2fimgs%2fapple-icon-57x57.png&amp;favicon=https%3a%2f%2f2022.picacg.one%2fbuild%2fimgs%2fapple-icon-57x57.png" style="width:100%;height:124px"></iframe></div><div class="post_footer"><div class="meta"><div class="info"><span class="field tags"><i class="ri-stack-line"></i>
<a href="https://zozo.sswin.site/tags/%E6%94%B6%E8%97%8F/">收藏</a></span></div></div></div></div><script async="" crossorigin="anonymous" data-category="General" data-category-id="DIC_kwDOIgezUM4CTB6g" data-emit-metadata="0" data-input-position="top" data-lang="zh-CN" data-loading="lazy" data-mapping="pathname" data-reactions-enabled="1" data-repo="winsight/hugo_zozo_comment" data-repo-id="R_kgDOIgezUA" data-strict="0" data-theme="light" src="https://giscus.app/client.js"></script></div></div></div><a class="back_to_top" href="#" id="back_to_top"><i class="ri-arrow-up-s-line"></i></a><footer class="footer"><div class="powered_by"><a href="https://timegg.top">SSWIN © 2022 ,</a>
<a href="http://www.gohugo.io/">Powered by Hugo.</a></div><div class="footer_slogan"><span>享受当下。</span></div></footer><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script src="https://zozo.sswin.site/js/jquery-3.5.1.min.js"></script>
<link href="https://zozo.sswin.site/css/fancybox.min.css" rel="stylesheet"/><script src="https://zozo.sswin.site/js/fancybox.min.js"></script>
<script src="https://zozo.sswin.site/js/zozo.js"></script></body></html>